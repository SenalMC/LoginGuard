LoginGuard 是一个针对 BungeeCord 服务器的登录保护插件，旨在增强服务器管理员的账户安全。
通过结合网页端验证和 IP 绑定机制，LoginGuard 可以防止恶意玩家通过获取管理员密码进行登录。
只有经过身份验证的管理员，且其 IP 地址与存储的准许 IP 匹配，才能成功登录并管理服务器。

该插件使用 JSON 文件来记录管理员数据，提供了可自定义的配置文件，支持按需更新管理员数据和实时的 IP 地址验证。

🔧 功能特点
管理员验证：管理员首次登录时通过网页验证其账号，并将其 IP 地址绑定到服务器。
IP 匹配机制：验证时，插件会比较存储的 IP 地址前三段与玩家登录时的 IP 地址是否一致，即使最后一段 IP 地址不同，依然可以成功验证。
自动更新管理员数据：当管理员登录时，插件会自动更新管理员数据，确保 IP 地址的有效性。
配置文件：插件支持自定义配置，JSON 文件存储管理员信息，配置文件（config.yml）支持编辑 JSON 文件地址和踢出玩家提示等内容。
兼容性：支持 BungeeCord 服务器，适用于多个游戏服务器环境。Spigot版本将会在未来受支持。

📦 安装方法
下载 LoginGuard 插件的最新版本，并将 .jar 文件上传到你的 BungeeCord 服务器的 plugins 文件夹中。

运行服务器，插件会自动生成默认配置文件 config.yml。你可以编辑该文件来配置 JSON 文件的地址和其他相关设置。
在编辑并保存完毕后，请重启你的BungeeCord服务端。为保证服务器安全，不允许热更新。

在 BungeeCord 启动完成后，插件会自动加载管理员数据，并在每次管理员登录时进行 IP 地址验证。


⚙️ 配置说明
config.yml

# 配置文件：LoginGuard


json_url: "https://example.com/verify/admins.json"  # JSON 文件的地址，用于存储管理员数据
kick_message: "&c您的 IP 地址未通过验证，无法登录游戏！"  # 当 IP 地址不匹配时的踢出提示消息


json_url：填写管理员数据 JSON 文件的 URL 地址（例如：https://example.com/verify/admins.json）。此文件存储管理员的 ID、邮箱 和 IP 地址等信息。
kick_message：设置当管理员 IP 地址不匹配时，玩家收到的踢出消息。你可以使用 & 来实现颜色代码（例如：&c 表示红色）。


🌐 管理员验证流程
管理员通过网页访问验证页面并输入玩家 ID 和绑定邮箱地址。
系统通过 PHPMailer 向管理员的邮箱发送一个验证码。
管理员输入验证码，验证成功后，系统会记录管理员的当前 IP 地址并允许登录。
该 IP 地址在 12 小时内有效，12 小时后，管理员需要重新进行验证。
如果管理员尝试使用不匹配的 IP 登录，将被踢出，并显示配置文件中设置的 kick_message。
⚡ 使用注意事项
插件只对具有 lg.use 权限的管理员有效。普通玩家不会受到限制。
json_url 配置项需要确保指向一个有效的管理员数据 JSON 文件，该文件需包含管理员的 ID 和绑定的 IP 地址。
请确保服务器的外网 IP 不会发生频繁变动，否则可能导致管理员无法正常登录。


🛠️ 常见问题
Q: 如何更新管理员数据？

A: 管理员每次登录时，插件会自动更新 JSON 文件中的数据。你可以通过编辑 admins.json 文件，手动调整管理员的 IP 地址。
Q: 如何修改踢出消息？

A: 打开 config.yml 文件，修改 kick_message 字段的内容，使用 & 表示颜色代码来定制消息。
Q: JSON 文件无法加载？

A: 确保配置的 json_url 地址正确并且 JSON 文件格式符合要求。如果 URL 无法访问，插件将无法更新管理员数据。
📝 结语
LoginGuard 插件提供了一种简单且有效的方式来保护你的 BungeeCord 服务器管理员账户，防止未经授权的访问。通过将 IP 地址绑定和验证码验证机制结合使用，极大提升了管理员账户的安全性。如果你有任何问题或建议，欢迎提交 Issue 或 Pull Request！

